"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[512],{8512:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var a=function(){var t=this,e=t._self._c;return e("el-container",[e("el-header",[e("TheHeader")],1),e("el-main",[e("router-view")],1),e("el-footer",{attrs:{height:"70px"}},[e("ThePlayer")],1)],1)},i=[],n=function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"btn"},[e("button",{attrs:{type:"button"},on:{click:t.goback}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("button",{attrs:{type:"button"},on:{click:t.goahead}},[e("i",{staticClass:"el-icon-arrow-right"})])]),e("el-menu",{attrs:{router:"",mode:"horizontal","text-color":"#000000","active-text-color":"#409EFF"}},[e("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),e("el-menu-item",{attrs:{index:"/toplists"}},[t._v("排行榜")]),e("el-menu-item",{attrs:{index:"/artists"}},[t._v("歌手")]),e("el-menu-item",{attrs:{index:"/playlists"}},[t._v("分类歌单")]),e("el-menu-item",{attrs:{index:"/albums"}},[t._v("数字专辑")])],1),e("el-input",{attrs:{placeholder:"搜索音乐/歌手/歌单",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("el-button",{attrs:{slot:"append"},on:{click:t.search},slot:"append"},[e("i",{staticClass:"el-icon-search"})])],1)],1)},o=[],r={data(){return{keyword:""}},methods:{search(){this.keyword&&this.$router.push(`/search/${this.keyword}`)},goback(){this.$router.back()},goahead(){this.$router.forward()}}},l=r,c=s(1001),u=(0,c.Z)(l,n,o,!1,null,"4539237b",null),d=u.exports,p=function(){var t=this,e=t._self._c;return t.$store.state.songInfo.id?e("div",{staticClass:"player"},[e("el-progress",{attrs:{percentage:t.percentage,"show-text":!1}}),e("div",{staticClass:"main"},[e("div",{staticClass:"info"},[e("el-image",{attrs:{src:t.$store.state.songInfo.al.picUrl}}),e("div",{staticClass:"text"},[e("span",[t._v(t._s(t.$store.state.songInfo.name))]),e("span",[t._v(" - ")]),t._l(t.$store.state.songInfo.ar,(function(s,a){return e("router-link",{key:a,attrs:{to:`/artist/${s.id}`}},[t._v(t._s(s.name)+" ")])}))],2)],1),e("div",{staticClass:"control"},[e("button",{attrs:{type:"button"}},[e("i",{staticClass:"el-icon-d-arrow-left",on:{click:t.previous}})]),e("button",{attrs:{type:"button"},on:{click:t.handlePlay}},[t.playing?e("i",{staticClass:"el-icon-video-pause"}):e("i",{staticClass:"el-icon-video-play"})]),e("button",{attrs:{type:"button"},on:{click:t.next}},[e("i",{staticClass:"el-icon-d-arrow-right"})])]),e("div",{staticClass:"other"},[e("span",[t._v(t._s(t._f("timeFormat")(t.ct))+" / "+t._s(t._f("timeFormat")(t.dt)))]),e("button",{attrs:{type:"button"},on:{click:function(e){t.drawerVisible=!0}}},[e("i",{staticClass:"el-icon-s-operation"})])])]),e("audio",{ref:"audio",attrs:{src:`https://music.163.com/song/media/outer/url?id=${t.$store.state.songInfo.id}.mp3`,autoplay:""}}),e("el-drawer",{attrs:{title:"播放列表",visible:t.drawerVisible,size:"25%"},on:{"update:visible":function(e){t.drawerVisible=e}}},[e("PlayInfoList")],1)],1):t._e()},h=[],f=function(){var t=this,e=t._self._c;return e("div",[e("ul",t._l(t.$store.state.playlist,(function(s,a){return e("li",{key:a,class:{active:s.id===t.$store.state.songInfo.id}},[e("button",{attrs:{type:"button"},on:{click:function(e){return t.play(s)}}},[e("i",{staticClass:"el-icon-video-play"})]),e("div",{staticClass:"info"},[e("p",[t._v(t._s(s.name))]),e("div",{staticClass:"desc"},[e("span",t._l(s.ar,(function(s,a){return e("span",{key:a},[t._v(t._s(s.name)+" ")])})),0),e("span",[t._v(t._s(t._f("timeFormat")(s.dt)))])])])])})),0)])},m=[],y={methods:{play(t){this.$store.commit("setSongInfo",t)}}},v=y,_=(0,c.Z)(v,f,m,!1,null,"4611ea5a",null),g=_.exports,b={components:{PlayInfoList:g},mounted(){setInterval((()=>{this.playing&&(this.ct=1e3*this.$refs.audio.currentTime,this.dt=1e3*this.$refs.audio.duration,this.percentage=this.ct/this.dt*100)}),1e3)},data(){return{playing:!1,drawerVisible:!1,ct:0,dt:0,percentage:0}},watch:{"$store.state.songInfo":{handler(){this.playing=!0,this.percentage=0}}},methods:{getRowKey(t){return t.id},handlePlay(){this.$refs.audio.paused?this.$refs.audio.play():this.$refs.audio.pause(),this.playing=!this.$refs.audio.paused},previous(){const t=this.$store.state.playlist.findIndex((t=>t.id===this.$store.state.songInfo.id));t>0&&(this.$store.state.songInfo=this.$store.state.playlist[t-1])},next(){const t=this.$store.state.playlist.findIndex((t=>t.id===this.$store.state.songInfo.id));t<this.$store.state.playlist.length-1&&(this.$store.state.songInfo=this.$store.state.playlist[t+1])}}},$=b,k=(0,c.Z)($,p,h,!1,null,"0d9684fe",null),w=k.exports,C={components:{TheHeader:d,ThePlayer:w}},x=C,I=(0,c.Z)(x,a,i,!1,null,"fd1401be",null),P=I.exports}}]);
//# sourceMappingURL=512.c77a49f6.js.map